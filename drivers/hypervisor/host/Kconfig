# SPDX-License-Identifier: GPL-2.0-only
#
# Virtualization yocto host support drivers
#

config DEVICE_MODULES_ACRN_HSM
	tristate "ACRN Hypervisor Service Module"
	select EVENTFD
	help
	  ACRN Hypervisor Service Module (HSM) is a kernel module which
	  communicates with ACRN userspace through ioctls and talks to
	  the ACRN Hypervisor through hypercalls. HSM will only run in
	  a privileged management VM, called Service VM, to manage User
	  VMs and do I/O emulation. Not required for simply running
	  under ACRN as a User VM.

	  To compile as a module, choose M, the module will be called
	  acrn. If unsure, say N.

config DEVICE_MODULES_VHOST_BLK
	tristate "Host kernel accelerator for virtio blk (EXPERIMENTAL)"
	depends on BLOCK
	select VHOST
	help
	  This kernel module can be loaded in host kernel to accelerate
	  guest block with virtio_blk. Not to be confused with virtio_blk
	  module itself which needs to be loaded in guest kernel.

	  To compile this driver as a module, choose M here: the module will
	  be called vhost_blk.

config VHOST_CMDQ
	tristate "hypervisor vhost cmdq driver"
	help
	  This extension enable vhost cmdq driver, vhost cmdq driver
	  for hypervisor project. The vhost driver is located at virt/grt,
	  Also used to isolate the conflicting part of the cmdq driver
	  on main project, default is n.

config VHOST_DMABUF
	tristate "vhost_dmabuf driver used to share buffers between dual systems"
	help
	  This kernel module can be loaded into the host kernel to import the
	  virtual address (va) passed by the guest and export a vhost file
	  descriptor (fd) to provide users with shared buffer capabilities.

	  To compile as a module, choose M, the module will be called
	  acrn. If unsure, say N.